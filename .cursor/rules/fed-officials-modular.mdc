# Fed Officials Monitor - MODULAR & DYNAMIC Architecture

## ðŸŽ¯ Goal
Replace hardcoded, static Fed monitoring with a **data-driven, learning system**.

## âŒ What Was Wrong (Old System)
1. **Hardcoded FOMC members list** - Static list, doesn't adapt
2. **Keyword-based sentiment** - Simple counting, no context understanding
3. **Hardcoded queries** - Same queries every time, no learning
4. **Static market impact** - Hardcoded weights, not based on actual moves
5. **Monolithic file** - 600+ lines, hard to maintain

## âœ… New Architecture (Modular & Dynamic)

### **File Structure:**
```
fed_officials/
â”œâ”€â”€ __init__.py          # Package init
â”œâ”€â”€ models.py            # Data contracts (FedComment, FedOfficial, etc.)
â”œâ”€â”€ database.py          # SQLite persistence + pattern learning
â”œâ”€â”€ query_generator.py   # Dynamic queries (learns what works)
â”œâ”€â”€ sentiment_analyzer.py # LLM-based sentiment (not keywords!)
â”œâ”€â”€ official_tracker.py  # Dynamically discovers officials
â”œâ”€â”€ impact_learner.py    # Learns market impact from actual moves
â””â”€â”€ engine.py            # Main orchestrator
```

### **Key Features:**

#### **1. Dynamic Official Discovery** (`official_tracker.py`)
- **NOT hardcoded list!**
- Discovers officials from news mentions
- Learns their names, positions, keywords
- Tracks comment frequency
- Updates database automatically

#### **2. LLM-Based Sentiment** (`sentiment_analyzer.py`)
- **NOT keyword matching!**
- Uses Perplexity LLM to understand context
- Learns patterns over time
- Stores successful patterns in database
- Falls back to keywords only if LLM unavailable

#### **3. Query Learning** (`query_generator.py`)
- **NOT hardcoded queries!**
- Tracks which queries find most comments
- Prioritizes best-performing queries
- Explores new templates (70% learned, 30% exploration)

#### **4. Market Impact Learning** (`impact_learner.py`)
- **NOT hardcoded weights!**
- Tracks actual SPY moves after comments
- Learns: Official + Sentiment â†’ Actual Market Move
- Updates predictions based on historical accuracy
- Example: "Powell DOVISH" â†’ +0.5% SPY (learned from data)

#### **5. Database Learning** (`database.py`)
- Stores all comments
- Tracks query performance
- Learns sentiment patterns
- Learns market impact patterns
- Gets smarter over time!

## ðŸ“Š Data Flow

```
1. Query Generator â†’ Generates queries (learned + exploration)
2. Perplexity â†’ Fetches news
3. Official Tracker â†’ Discovers officials from mentions
4. Sentiment Analyzer â†’ LLM analyzes sentiment
5. Impact Learner â†’ Predicts market impact (learned)
6. Database â†’ Stores everything for learning
7. Engine â†’ Orchestrates all components
```

## ðŸš€ Benefits

1. **Adapts to new officials** - No code changes needed
2. **Learns what works** - Queries improve over time
3. **Understands context** - LLM > keyword matching
4. **Real market data** - Impact based on actual moves
5. **Modular** - Each component <200 lines, easy to maintain

## â³ Implementation Status

- âœ… `models.py` - Data contracts
- âœ… `database.py` - SQLite + learning
- âœ… `query_generator.py` - Dynamic queries
- âœ… `sentiment_analyzer.py` - LLM-based
- â³ `official_tracker.py` - Dynamic discovery
- â³ `impact_learner.py` - Market impact learning
- â³ `engine.py` - Orchestrator

## ðŸ”„ Migration Plan

1. Keep old `fed_officials_monitor.py` as fallback
2. Build new modular system
3. Test side-by-side
4. Switch over when ready
5. Remove old code
